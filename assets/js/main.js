import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.164.1/build/three.module.js';
import { OrbitControls } from './OrbitControls.js';

const scene = new THREE.Scene();

// Create cameraS
const cont = document.getElementById("content-window");
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.z = 5;

var canvas = document.getElementById("canvas_ID")
// Create renderer
const renderer = new THREE.WebGLRenderer({canvas: canvas});

renderer.setSize(canvas.clientWidth*2.5, canvas.clientHeight*2.5);
const container = document.getElementById("content-window")
container.appendChild(renderer.domElement);

// Add OrbitControls
const controls = new OrbitControls(camera, renderer.domElement);

// Create sphere geometry
const geometry = new THREE.SphereGeometry(1, 32, 32);

// Load Earth texture
const textureLoader = new THREE.TextureLoader();
const earthTexture = textureLoader.load('../../../assets/img/Earth.jpg');
const bumpTexture = textureLoader.load('../../../assets/img/Bump.jpg')
const oceanTexture = textureLoader.load('../../../assets/img/Ocean.png')
const material = new THREE.MeshStandardMaterial({ map: earthTexture,
                                                bumpMap: bumpTexture,
                                                bumpScale: 1.2,
                                                metalness: 1,
                                                metalnessMap: oceanTexture});

const ambientLight = new THREE.AmbientLight(0xffffff, 0.05);
scene.add(ambientLight);

const directionalLight = new THREE.DirectionalLight(0xffffff, 2);
directionalLight.position.set(-50, 0, 30);
scene.add(directionalLight);

// Create sphere and add to scene
const sphere = new THREE.Mesh(geometry, material);
scene.add(sphere);

const pathPoints = [];

const xyzcoords = [
    [-0.4246071038475785,0.6124526652836482,0.666791226808757],
    [-0.439963064665613,0.599739469414637,0.6683899090772476],
    [-0.44087041057183646,0.5989761356113132,0.6684765291693928],
    [-0.43707271096092243,0.5854995235240996,0.6827574630030215],
    [-0.43310018809318246,0.5717887194340328,0.6967653029547602],
    [-0.4289544309247974,0.5578492074799404,0.7104944460753975],
    [-0.4246370977033586,0.5436865632807459,0.7239394008907373],
    [-0.42014991530459095,0.529306451705297,0.7370947895981177],
    [-0.41549467854162564,0.5147146246064912,0.7499553502174582],
    [-0.41067324944709876,0.49991691852061254,0.7625159386959831],
    [-0.4056875565283635,0.4849192523327962,0.7747715309657733],
    [-0.4005395939961121,0.4697276249095503,0.7867172249533263],
    [-0.3952314209667191,0.45434811269929226,0.7983482425403213],
    [-0.3897651606386212,0.43878686730184835,0.8096599314748013],
    [-0.38414299944306757,0.4230501130078973,0.8206477672320134],
    [-0.378367186169575,0.4071441443093361,0.8313073548241571],
    [-0.372440031066443,0.3910753233815671,0.841634430558321],
    [-0.36636390491668547,0.3748500775387139,0.8516248637419046],
    [-0.36532678062538737,0.3721043489253085,0.8532729322255349],
    [-0.34918645371765217,0.36529170517347753,0.8629199213551296],
    [-0.3329064568841872,0.35833294961006823,0.8722217540216278],
    [-0.31649330190666214,0.35123086564452394,0.8811747096159858],
    [-0.2999535538282287,0.34398829401573755,0.8897752070753366],
    [-0.2832938283275915,0.3366081316557943,0.8980198063153689],
    [-0.26652078907282395,0.3290933305312373,0.9059052096063126],
    [-0.24964114505599033,0.3214468964623203,0.9134282628919888],
    [-0.23266164790963867,0.31367188792072004,0.9205859570513895],
    [-0.21558908920623704,0.3057714148061874,0.9273754291022852],
    [-0.19843029774163573,0.2977486372026302,0.9337939633463812],
    [-0.18119213680363971,0.2896067641141208,0.9398389924555582],
    [-0.16388150142678537,0.28134905218133777,0.9455080984987729],
    [-0.1465053156344178,0.272978804378953,0.9507990139091947],
    [-0.1290705296691745,0.26449936869448526,0.9557096223912038],
    [-0.11158411721298113,0.2559141367891512,0.9602379597668814],
    [-0.09405307259767096,0.24722654264124444,0.9643822147616546],
    [-0.07648440800734592,0.2384400611725911,0.9681407297287812],
    [-0.05888515067359649,0.22955820685862716,0.9715120013123871],
    [-0.041262340064702446,0.22058453232265504,0.9744946810487886],
    [-0.023623025069939713,0.21152262691484175,0.9770875759058599],
    [-0.005974261180118536,0.20237611527652663,0.9792896487602296],
    [0.011676892334519004,0.19314865589041308,0.9811000188121163],
    [0.029323375247912543,0.18384393961722445,0.9825179619376374],
    [0.04695812920218001,0.17446568821940872,0.9835429109784479],
    [0.06457410053086668,0.1650176528724835,0.984174455968598],
    [0.08216424308031751,0.15550361266461526,0.9844123442985118],
    [0.0997215210280449,0.145927373085035,0.9842564808160291],
    [0.11723891169696356,0.13629276450189304,0.9837069278644646],
    [0.13470940836436812,0.12660364063016316,0.982763905257672],
    [0.14682157799525114,0.1198388023523317,0.9818768179795994],
    [0.1654912748060014,0.12595648671628407,0.9781347562668321],
    [0.17349477431398191,0.12857025789283646,0.976406294567538],
    [0.1776012095785488,0.14783358702689028,0.9729352706644976],
    [0.1791120601822087,0.15499103305260686,0.9715434367904353],
    [0.1787294257592767,0.1561604492692366,0.9714266346213642],
    [0.1767016615371381,0.15826429266174669,0.9714571202468443],
    [0.17497436108397413,0.1584044979508227,0.9717468744442674],
    [0.17276136148744398,0.15953549280242155,0.9719577863844155],
    [0.1727882642179258,0.16427353586686885,0.9711634368953317],
    [0.18968740550604077,0.17381840216979857,0.966336303395213],
    [0.206510674361085,0.1832937434294081,0.9611226482580484],
    [0.22325134169982375,0.19269576963552992,0.9555245568763785],
    [0.23990271147852743,0.2020207201030402,0.9495442684121154],
    [0.2564581233712999,0.21126486497608293,0.9431841749009092],
    [0.27291095543411986,0.22042450671996253,0.9364468202953636],
    [0.2892546267535305,0.22949598160010842,0.9293348994474911],
    [0.28998930641131115,0.2299031117483043,0.9290052536856469],
    [0.3089049610526553,0.22592727896702886,0.9238693574611139],
    [0.3276970578282564,0.2218610782864902,0.9183639258116904],
    [0.346358080149962,0.2177061361327452,0.9124911608366313],
    [0.3648805638576538,0.2134641144272568,0.906253411563624],
    [0.38325710020481185,0.20913670992214786,0.8996531730092092],
    [0.40148033882191453,0.20472565352152228,0.8926930851808061],
    [0.41954299065648815,0.20023270958912706,0.8853759320207467],
    [0.43743783088863125,0.19565967524263014,0.8777046402927341],
    [0.4551577018208454,0.191008379634797,0.8696822784111767],
    [0.4726955157410198,0.18628068322185437,0.8613120552138641],
    [0.4900442577574205,0.18147847701933228,0.8525973186784732],
    [0.5071969886045548,0.1766036818456833,0.843541554583424],
    [0.5241468474187834,0.17165824755398043,0.8341483851136121],
    [0.540887054482576,0.16664415225200196,0.8244215674115847],
    [0.5574109139363066,0.1615634015110152,0.8143649920747338],
    [0.5737118164565094,0.15641802756357398,0.8039826815991084],
    [0.5897832418995185,0.15121008849065323,0.7932787887704693],
    [0.5932088809914897,0.15008212067101226,0.7909352568748699],
    [0.6068751763072513,0.1380078041545782,0.7827236845621028],
    [0.6202987296440511,0.1258782863565618,0.7741990332116876],
    [0.6334741717595329,0.11369841892235759,0.7653647125705039],
    [0.6463962326525203,0.10147307363654313,0.7562242562490186],
    [0.6590597436709486,0.08920714047423033,0.7467813203078896],
    [0.6714596395792543,0.07690552564514053,0.7370396817955888],
    [0.6835909605844044,0.06457314963118597,0.7270032372376344],
    [0.6954488543197451,0.052214945218342815,0.7166760010780322],
    [0.7070285777858856,0.039835855523602304,0.7060621040735515],
    [0.7183254992478338,0.027440832017790018,0.6951657916414773],
    [0.7293351000876287,0.015034832545043439,0.6839914221614999],
    [0.7400529766117268,0.0026228193397406785,0.6725434652324221],
    [0.7504748418124215,-0.009790242958327533,0.6608264998843782],
    [0.7605965270825891,-0.02219938928974728,0.6488452127472826],
    [0.7704139838830754,-0.03459965616143899,0.6366043961762424],
    [0.7799232853620583,-0.04698608363198876,0.6241089463346773],
    [0.7891206279257348,-0.0593537172955585,0.6113638612359201],
    [0.798002332759709,-0.07169761026358235,0.5983742387440778],
    [0.8065648473004683,-0.08401282514345612,0.5851452745349546],
    [0.8148047466563623,-0.09629443601342862,0.5716822600178505],
    [0.8227187349775119,-0.10853753039290444,0.5579905802190679],
    [0.8303036467741077,-0.12073721120737085,0.5440757116279726],
    [0.8375564481825614,-0.13288859874716236,0.5299432200064722],
    [0.8444742381790123,-0.14498683261927933,0.5155987581627848],
    [0.8510542497396981,-0.15702707369148058,0.5010480636903907],
    [0.8572938509477269,-0.1690045060278717,0.4862969566730721],
    [0.8631905460458087,-0.18091433881521504,0.4713513373569574],
    [0.8687419764345261,-0.1927518082791913,0.4562171837905004],
    [0.8739459216157415,-0.20451217958984566,0.4409005494333422],
    [0.8788003000807675,-0.21619074875545674,0.425407560735006],
    [0.8833031701429425,-0.2277828445040707,0.40974441468440104],
    [0.8874527307142788,-0.239283830151947,0.3939173763311084],
    [0.8912473220258746,-0.25068910545817114,0.3779327762794451],
    [0.8946854262917993,-0.26199410846468874,0.3617970081563062],
    [0.8977656683161873,-0.27319431732102883,0.3455165260538006],
    [0.9004868160432978,-0.2842852520929826,0.3290978419476993],
    [0.9028477810503224,-0.29526247655451887,0.31254752309273176],
    [0.9048476189827364,-0.3061215999622138,0.29587218939577137],
    [0.9064855299320314,-0.31685827881149076,0.2790785107679629],
    [0.9077608587556663,-0.32746821857396385,0.26217320445684444],
    [0.9086730953391154,-0.3379471754151921,0.24516303235953932],
    [0.9092218747999086,-0.34829095789215636,0.22805479831808734],
    [0.9094069776335787,-0.3584954286297814,0.21085534539799816],
    [0.90922832980146,-0.36855650597582984,0.1935715531511169],
    [0.9086860027603036,-0.3784701656335092,0.17621033486389462],
    [0.9077802134336945,-0.3882324422711367,0.15877863479216683],
    [0.9065113241252872,-0.39783943110821934,0.14128342538354233],
    [0.9048798423738861,-0.4072872894773136,0.12373170448851842],
    [0.9028864207504391,-0.41657223836104185,0.10613049256143298],
    [0.9005318565970172,-0.4256905639036481,0.08848682985237757],
    [0.8978170917078876,-0.43463861889649136,0.07080777359118984],
    [0.8947432119528098,-0.44341282423688044,0.053100395164656304],
    [0.8913114468427015,-0.45200967035966677,0.035371777288053186],
    [0.8875231690378502,-0.46042571864102455,0.017629011172151987],
    [0.8833798937988682,-0.4686576027738537,-0.00012080631316770118],
    [0.8788832783806081,-0.47670203011425794,-0.017870575477572655],
    [0.8740351213692833,-0.48455578299855895,-0.035613196650057986],
    [0.868837361963057,-0.492215720030318,-0.05334157301871936],
    [0.8632920791963895,-0.49967877733685384,-0.07104861346938479],
    [0.8574014911084507,-0.5069419697947497,-0.0887272354219648],
    [0.851167953855936,-0.5140023922238639,-0.10637036766339009],
    [0.8445939607706334,-0.5208572205493622,-0.12397095317600262],
    [0.8376821413621256,-0.5275037129313113,-0.1415219519602685],
    [0.8304352602660192,-0.5339392108613769,-0.15901634385068492],
    [0.8228562161381289,-0.5401611402261924,-0.17644713132375034],
    [0.8149480404950531,-0.54616701233697,-0.19380734229688337],
    [0.8067138965016083,-0.5519544249249426,-0.21109003291716139],
    [0.798157077705605,-0.5575210631022394,-0.22828829033876868],
    [0.7892810067204716,-0.5628647002878102,-0.2453952354880436],
    [0.78048617890387,-0.5677703144832711,-0.2616833860442873],
    [0.77165811790632,-0.5714590280365516,-0.27924599969345204],
    [0.7625214039502454,-0.5749191655979693,-0.2966969186659697],
    [0.7530796915994071,-0.5781493431586346,-0.3140291628269272],
    [0.7433367574128577,-0.5811482686905918,-0.33123579950975357],
    [0.7332964984343678,-0.5839147426636129,-0.3483099462891946],
    [0.7229629306336607,-0.5864476585249947,-0.3652447737341905],
    [0.7123401873000769,-0.5887460031421642,-0.3820335081395583],
    [0.701432517389316,-0.5908088572079189,-0.3986694342353823],
    [0.6902442838239078,-0.5926353956081369,-0.4151458978730337],
    [0.678779961748105,-0.5942248877518116,-0.4314563086867408],
    [0.6670441367378812,-0.5955766978632783,-0.44759414272964726],
    [0.6550415029667658,-0.5966902852365166,-0.46355294508330425],
    [0.642776861328234,-0.5975652044514247,-0.47932633243955136],
    [0.6302551175154145,-0.5982011055519818,-0.49490799565375526],
    [0.6174812800588785,-0.5985977341862266,-0.5102917022683828],
    [0.6044604583232931,-0.5987549317079939,-0.5254712990059018],
    [0.5911978604637435,-0.5986726352403704,-0.5404407142300091],
    [0.5776987913425415,-0.5983508777008463,-0.5551939603742044],
    [0.5639686504073501,-0.597789787788147,-0.5697251363367373],
    [0.550012929531478,-0.5969895899307566,-0.5840284298409695],
    [0.5358372108172008,-0.5959506041971493,-0.5980981197602073],
    [0.521447164362998,-0.594673246167765,-0.6119285784060762],
    [0.5068485459955859,-0.5931580267687845,-0.6255142737795216],
    [0.49204719496766586,-0.5914055520677645,-0.6388497717835342],
    [0.47704903162230095,-0.5894165230312199,-0.651929738396717],
    [0.4618600550248559,-0.587191735244245,-0.6647489418068216],
    [0.44648634056345293,-0.5847320785922913,-0.6773022545034045],
    [0.43093403751889636,-0.5820385369052242,-0.6895846553287625],
    [0.4152093666050428,-0.5791121875638056,-0.7015912314863284],
    [0.3993186174805983,-0.5759542010687542,-0.7133171805057246],
    [0.3832681462333388,-0.5725658405725622,-0.7247578121636876],
    [0.3670643728377596,-0.5689484613742505,-0.7359085503600937],
    [0.3507137785871721,-0.5651035103772678,-0.7467649349483392],
    [0.3342229035012707,-0.5610325255107469,-0.757322623519338],
    [0.317598343710215,-0.5567371351143557,-0.7675773931384298],
    [0.3008467488162632,-0.5522190572869816,-0.7775251420344946],
    [0.28397481923402146,-0.5474800991995155,-0.7871618912406096],
    [0.26698930351036654,-0.5425221563720066,-0.7964837861855802],
    [0.2498969956251172,-0.5373472119154814,-0.8054870982357188],
    [0.23270473227353372,-0.531957335738724,-0.8141682261862481],
    [0.21541939013172878,-0.5263546837203409,-0.8225236977017344],
    [0.1980478831060919,-0.5205414968464384,-0.830550170704976],
    [0.18059715956781552,-0.5145201003142582,-0.8382444347137906],
    [0.16307419957364194,-0.508292902602129,-0.8456034121251631],
    [0.1454860120739327,-0.5018623945061071,-0.8526241594462471],
    [0.12783963210918137,-0.49523114814369207,-0.8593038684717236],
    [0.11014211799609228,-0.4884018159250139,-0.8656398674070436],
    [0.09240054850434687,-0.4813771294919027,-0.8716296219371111],
    [0.07462202002519025,-0.4741598986252711,-0.8772707362399776],
    [0.05681364373297075,-0.46675301012123693,-0.8825609539451356],
    [0.038982542740763126,-0.4591594266364449,-0.8874981590360375],
    [0.021135849251219432,-0.45138218550304215,-0.8920803766964762],
    [0.003280701703782987,-0.44342439751378726,-0.8963057741004827],
    [-0.014575758080592763,-0.4352892456777733,-0.9001726611454333],
    [-0.03242638775607751,-0.4269799839472672,-0.9036794911280679],
    [-0.0502640473088056,-0.4184999359161731,-0.9068248613631504],
    [-0.06808160191278874,-0.40985249349063707,-0.9096075137445245],
    [-0.08587192478374905,-0.4010411155323319,-0.9120263352483396],
    [-0.1036279000297397,-0.3920693264749576,-0.9140803583782442],
    [-0.1213424254974054,-0.38294071491451437,-0.9157687615523732],
    [-0.13900841561274963,-0.37365893217391355,-0.9170908694319686],
    [-0.15661880421526966,-0.3642276908424956,-0.9180461531915061],
    [-0.17416654738432624,-0.3546507632910453,-0.9186342307302193],
    [-0.1916446262566191,-0.3449319801628923,-0.9188548668249337],
    [-0.20904604983363642,-0.33507522884170615,-0.918707973224153],
    [-0.22636385777796433,-0.32508445189659313,-0.9181936086833589],
    [-0.24359112319732526,-0.3149636455051231,-0.9173119789415096],
    [-0.2607209554152458,-0.30471685785491054,-0.9160634366387472],
    [-0.2777465027272332,-0.29434818752439296,-0.9144484811753452],
    [-0.294660955141367,-0.283861781843456,-0.912467758511957],
    [-0.3114575471022042,-0.27326183523455505,-0.9101220609112388],
    [-0.328129560196913,-0.2625525875350028,-0.9074123266209553],
    [-0.3446703258425454,-0.25173832230109083,-0.9043396394986929],
    [-0.3610732279533837,-0.24082336509472488,-0.9009052285783321],
    [-0.37733170558728624,-0.22981208175325613,-0.8971104675784496],
    [-0.3934392555699762,-0.2187088766432066,-0.8929568743528489],
    [-0.40938943509622505,-0.20751819089857915,-0.8884461102834401],
    [-0.42517586430688853,-0.19624450064446441,-0.8835799796157082],
    [-0.4407922288407648,-0.1848923152066505,-0.8783604287370391],
    [-0.4562322823602564,-0.17346617530795205,-0.8727895453981916],
    [-0.47148984904982005,-0.16197065125198168,-0.8668695578782236],
    [-0.47186759149166113,-0.1616834069669683,-0.8667176310722036],
    [-0.4865465255725222,-0.14946924899340788,-0.8607737345311213],
    [-0.5010308475303548,-0.1371953053131468,-0.8544855399730569],
    [-0.5153147638294975,-0.12486648534000684,-0.8478555625919919],
    [-0.5293925610938802,-0.11248772043759515,-0.8408864542904799],
    [-0.5432586083922988,-0.10006396194682471,-0.833581002618922],
    [-0.556907359490712,-0.08760017920544391,-0.8259421296605816],
    [-0.5703333550706613,-0.07510135756036773,-0.8179728908627916],
    [-0.5835312249129259,-0.06257249637360549,-0.8096764738148167],
    [-0.5964956900455377,-0.05001860702258264,-0.801056196972858],
    [-0.6092215648553011,-0.0374447108956566,-0.7921155083327172],
    [-0.6217037591619684,-0.024855837383628454,-0.7828579840506423],
    [-0.6339372802542438,-0.012257021868053636,-0.7732873270129146],
    [-0.6414852773081982,-0.00434777251111959,-0.7671230252515013],
    [-0.6533050346907575,0.008254216760776655,-0.7570497999163424],
    [-0.6648634787700582,0.020852904456023346,-0.7466737647550796],
    [-0.6761559863225793,0.03344325126752265,-0.7359990700434323],
    [-0.6871780404958641,0.04602022122441901,-0.725029985516958],
    [-0.6979252326152022,0.058578783706420376,-0.7137708986632141],
    [-0.7083932639470399,0.0711139154559792,-0.7022263129668234],
    [-0.7185779474184167,0.08362060258752854,-0.6904008461081388],
    [-0.7284752092917374,0.09609384259296938,-0.6782992281162327],
    [-0.7380810907942147,0.10852864634260717,-0.6659262994769494],
    [-0.7473917497013244,0.12092004008073723,-0.653287009196774],
    [-0.7564034618736439,0.1332630674150807,-0.640386412823297],
    [-0.7651126227464591,0.1455527912992754,-0.6272296704230628],
    [-0.7735157487715414,0.15778429600762833,-0.6138220445176101],
    [-0.7816094788105207,0.16995268910134081,-0.600168897978535],
    [-0.7893905754792966,0.18205310338541836,-0.5862756918824138],
    [-0.7968559264429481,0.1940806988554841,-0.5721479833264447],
    [-0.8040025456606265,0.2060306646337159,-0.5577914232056831],
    [-0.8108275745799316,0.21789822089313293,-0.5432117539527589],
    [-0.8173282832802949,0.22967862076946366,-0.5284148072409803],
    [-0.8235020715649114,0.2413671522598274,-0.5134065016517425],
    [-0.829346470000783,0.25295914010747306,-0.49819284030717265],
    [-0.83485914090646,0.2644499476718192,-0.4827799084689625],
    [-0.8400378792870808,0.2758349787830489,-0.4671738711043443],
    [-0.8448806137163428,0.28710967958051603,-0.4513809704201862],
    [-0.8493854071650428,0.29826954033422914,-0.435407523366193],
    [-0.8535504577758647,0.30931009724868264,-0.41925991910820937],
    [-0.8573740995840972,0.3202269342483163,-0.4029446164726404],
    [-0.8608548031839982,0.3310156847438861,-0.3864681413630053],
    [-0.8639911763405367,0.34167203337904206,-0.369837084149665],
    [-0.8667819645462675,0.35219171775641267,-0.35305809703376023],
    [-0.8692260515231188,0.36257053014250773,-0.33613789138642053],
    [-0.871322459668887,0.3728043191507551,-0.3190832350643048],
    [-0.8730703504482656,0.38288899140200017,-0.3019009497025501],
    [-0.8744690247282475,0.3928205131618028,-0.28459790798620643],
    [-0.8755179230577698,0.40259491195387787,-0.2671810309012566],
    [-0.8762166258914855,0.4122082781490317,-0.24965728496631245],
    [-0.8765648537575774,0.42165676652896344,-0.23203367944610123],
    [-0.8765624673695417,0.4309365978242986,-0.2143172635478528],
    [-0.8762094676819019,0.44004406022624876,-0.19651512360171053],
    [-0.8755059958898266,0.44897551087128434,-0.1786343802262944],
    [-0.8744523333726528,0.45772737729823176,-0.16068218548054752],
    [-0.8730489015813389,0.46629615887721,-0.14266572000300923],
    [-0.8712962618698894,0.47467842820983686,-0.12459219013965372],
    [-0.8691951152708205,0.48287083250014096,-0.10646882506144956],
    [-0.866746302214757,0.49087009489563704,-0.08830287387278626],
    [-0.8639508021942708,0.49867301579802203,-0.07010160271192967],
    [-0.8608097333720975,0.5062764741429728,-0.051872291844664006],
    [-0.8573243521338852,0.5136774286485293,-0.03362223275228185],
    [-0.8534960525856584,0.5208729190315675,-0.015358725215089145],
    [-0.8493263659961932,0.527860067191873,0.002910925607409298],
    [-0.8448169601845299,0.5346360783633417,0.021179412098476652],
    [-0.8399696388528686,0.5411982422318513,0.03943942710709297],
    [-0.834786340865112,0.5475439340193484,0.057683666870718436],
    [-0.8292691394713457,0.5536706155337263,0.07590483393670093],
    [-0.8234202414785652,0.5595758361840671,0.09409564008115992],
    [-0.8172419863679836,0.5652572339608459,0.112248809224178],
    [-0.810736845359269,0.5707125363807031,0.13035708034013732],
    [-0.8039074204220915,0.5759395613954069,0.14841321036203164],
    [-0.796756443235368,0.5809362182646445,0.16640997707859778],
    [-0.7892867740946273,0.585700508392289,0.1843401820231026],
    [-0.7815014007679327,0.590230526125813,0.20219665335263437],
    [-0.7734034373008103,0.5945244595185215,0.21997224871674467],
    [-0.764996122770676,0.59858059105431,0.23765985811429235],
    [-0.7562828199912457,0.6023972983346448,0.2552524067373502],
    [-0.7472670141674556,0.6059730547275028,0.27274285780103313],
    [-0.7379523115014256,0.6093064299780027,0.2901242153581187],
    [-0.728342437750028,0.6123960907804886,0.30738952709733247],
    [-0.7184412367346336,0.6152408013118351,0.32453188712417946],
    [-0.7082526688036341,0.6178394237257578,0.34154443872321083],
    [-0.697780809248356,0.6201909186079395,0.35842037710061814],
    [-0.6870298466729988,0.62229434539178,0.3751529521060596],
    [-0.6760040813192483,0.6241488627346111,0.3917354709326316],
    [-0.6647079233462373,0.6257537288542221,0.40816130079390045],
    [-0.6531458910665423,0.6271083018255634,0.42442387157693007],
    [-0.6413226091389163,0.6282120398375068,0.4405166784702381],
    [-0.6292428067184889,0.6290645014095643,0.4564332845656357],
    [-0.6169113155651662,0.6296653455684729,0.4721673234329027],
    [-0.604333068110992,0.6300143319845799,0.48771250166627744],
    [-0.5915130954872403,0.6301113210679721,0.5030626014017318],
    [-0.5784565255120296,0.6299562740243095,0.5182114828040376],
    [-0.5651685806392651,0.6295492528703421,0.5331530865226162],
    [-0.5516545758697255,0.6288904204091048,0.5478814361151985],
    [-0.5379199166251343,0.6279800401647977,0.5623906404383234],
    [-0.5239700965860632,0.6268184762773801,0.5766748960037147],
    [-0.5098106954945322,0.6254061933569197,0.5907284892996006],
    [-0.4954473769221887,0.6237437562977547,0.6045457990760417],
    [-0.4808858860049533,0.6218318300525432,0.6181212985933553],
    [-0.4661320471450422,0.6196711793662912,0.6314495578327392],
    [-0.4511917616812843,0.6172626684704648,0.6445252456682049],
    [-0.43607100552866357,0.6146072607373094,0.6573431319989591]
    ];

fetch('coords.json')
for (let i = 0; i < xyzcoords.length; i++) {
    const x = xyzcoords[i][0];
    const y = xyzcoords[i][1];
    const z = xyzcoords[i][2];
    pathPoints.push(new THREE.Vector3(x, y, z));
}

pathPoints.push(pathPoints[0]);
let miles = parseInt(document.getElementById('distance').textContent);
console.log(miles);

const pathGeometry1 = new THREE.BufferGeometry().setFromPoints(pathPoints.slice(-pathPoints.length * miles/26000-10));
const pathGeometry2 = new THREE.BufferGeometry().setFromPoints(pathPoints.slice(0,pathPoints.length * (1-miles/26000)));
const pathMaterial1 = new THREE.LineBasicMaterial({color: 0x00ff00});
const pathMaterial2 = new THREE.LineBasicMaterial({color: 0xff0000});
const path1 = new THREE.Line(pathGeometry1, pathMaterial1);
const path2 = new THREE.Line(pathGeometry2, pathMaterial2)
scene.add(path2);
scene.add(path1);


function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
}
animate();